<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Connecting to an instrument &mdash; PyMeasure 0.9.0 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Making a measurement" href="procedure.html" />
    <link rel="prev" title="Tutorials" href="index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> PyMeasure
          </a>
              <div class="version">
                0.9.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Learning PyMeasure</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">Quick start</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Tutorials</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Connecting to an instrument</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-adapters">Using adapters</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="procedure.html">Making a measurement</a></li>
<li class="toctree-l2"><a class="reference internal" href="graphical.html">Using a graphical interface</a></li>
</ul>
</li>
</ul>
<p><span class="caption-text">API References</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../api/adapters.html">pymeasure.adapters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/experiment/index.html">pymeasure.experiment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/display/index.html">pymeasure.display</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/instruments/index.html">pymeasure.instruments</a></li>
</ul>
<p><span class="caption-text">Getting involved</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dev/contribute.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/reporting_errors.html">Reporting an error</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/adding_instruments.html">Adding instruments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/coding_standards.html">Coding Standards</a></li>
</ul>
<p><span class="caption-text">About PyMeasure</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/authors.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about/license.html">License</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">PyMeasure</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
          <li><a href="index.html">Tutorials</a> &raquo;</li>
      <li>Connecting to an instrument</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/tutorial/connecting.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="connecting-to-an-instrument">
<h1>Connecting to an instrument<a class="headerlink" href="#connecting-to-an-instrument" title="Permalink to this headline">¶</a></h1>
<p>After following the <a class="reference internal" href="../quick_start.html"><span class="doc">Quick Start</span></a> section, you now have a working installation of PyMeasure. This section describes connecting to an instrument, using a Keithley 2400 SourceMeter as an example. To follow the tutorial, open a command prompt, IPython terminal, or Jupyter notebook.</p>
<p>First import the instrument of interest.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pymeasure.instruments.keithley</span> <span class="kn">import</span> <span class="n">Keithley2400</span>
</pre></div>
</div>
<p>Then construct an object by passing the GPIB address. For this example we connect to the instrument over GPIB (using VISA) with an address of 4. See the <a class="reference internal" href="#adapters"><span class="std std-ref">adapters</span></a> section below for more details.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sourcemeter</span> <span class="o">=</span> <span class="n">Keithley2400</span><span class="p">(</span><span class="s2">&quot;GPIB::4&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>For instruments with standard SCPI commands, an <code class="code docutils literal notranslate"><span class="pre">id</span></code> property will return the results of a <code class="code docutils literal notranslate"><span class="pre">*IDN?</span></code> SCPI command, identifying the instrument.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sourcemeter</span><span class="o">.</span><span class="n">id</span>
</pre></div>
</div>
<p>This is equivalent to manually calling the SCPI command.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sourcemeter</span><span class="o">.</span><span class="n">ask</span><span class="p">(</span><span class="s2">&quot;*IDN?&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Here the <code class="code docutils literal notranslate"><span class="pre">ask</span></code> method writes the SCPI command, reads the result, and returns that result. This is further equivalent to calling the methods below.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sourcemeter</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;*IDN?&quot;</span><span class="p">)</span>
<span class="n">sourcemeter</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</pre></div>
</div>
<p>This example illustrates that the top-level methods like <code class="code docutils literal notranslate"><span class="pre">id</span></code> are really composed of many lower-level methods. Both can be called depending on the operation that is desired. PyMeasure hides the complexity of these lower-level operations, so you can focus on the bigger picture.</p>
<section id="using-adapters">
<span id="adapters"></span><h2>Using adapters<a class="headerlink" href="#using-adapters" title="Permalink to this headline">¶</a></h2>
<p>PyMeasure supports a number of adapters, which are responsible for communicating with the underlying hardware. In the example above, we passed the string “GPIB::4” when constructing the instrument. By default this constructs a VISAAdapter class to connect to the instrument using VISA. Instead of passing a string, we could equally pass an adapter object.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pymeasure.adapters</span> <span class="kn">import</span> <span class="n">VISAAdapter</span>

<span class="n">adapter</span> <span class="o">=</span> <span class="n">VISAAdapter</span><span class="p">(</span><span class="s2">&quot;GPIB::4&quot;</span><span class="p">)</span>
<span class="n">sourcemeter</span> <span class="o">=</span> <span class="n">Keithely2400</span><span class="p">(</span><span class="n">adapter</span><span class="p">)</span>
</pre></div>
</div>
<p>To instead use a Prologix GPIB device connected on <code class="code docutils literal notranslate"><span class="pre">/dev/ttyUSB0</span></code> (proper permissions are needed in Linux, see <a class="reference internal" href="../api/adapters.html#pymeasure.adapters.PrologixAdapter" title="pymeasure.adapters.PrologixAdapter"><code class="xref py py-class docutils literal notranslate"><span class="pre">PrologixAdapter</span></code></a>), the adapter is constructed in a similar way. Unlike the VISA adapter which is specific to each instrument, the Prologix adapter can be shared by many instruments. Therefore, they are addressed separately based on the GPIB address number when passing the adapter into the instrument construction.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pymeasure.adapters</span> <span class="kn">import</span> <span class="n">PrologixAdapter</span>

<span class="n">adapter</span> <span class="o">=</span> <span class="n">PrologixAdapter</span><span class="p">(</span><span class="s1">&#39;/dev/ttyUSB0&#39;</span><span class="p">)</span>
<span class="n">sourcemeter</span> <span class="o">=</span> <span class="n">Keithley2400</span><span class="p">(</span><span class="n">adapter</span><span class="o">.</span><span class="n">gpib</span><span class="p">(</span><span class="mi">4</span><span class="p">))</span>
</pre></div>
</div>
<p>For instruments using serial communication that have particular settings that need to be matched, a custom <a class="reference internal" href="../api/adapters.html#pymeasure.adapters.Adapter" title="pymeasure.adapters.Adapter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Adapter</span></code></a> sub-class can be made. For example, the LakeShore 425 Gaussmeter connects via USB, but uses particular serial communication settings. Therefore, a <a class="reference internal" href="../api/instruments/lakeshore/adapters.html#pymeasure.instruments.lakeshore.LakeShoreUSBAdapter" title="pymeasure.instruments.lakeshore.LakeShoreUSBAdapter"><code class="xref py py-class docutils literal notranslate"><span class="pre">LakeShoreUSBAdapter</span></code></a> class enables these requirements in the background.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pymeasure.instruments.lakeshore</span> <span class="kn">import</span> <span class="n">LakeShore425</span>

<span class="n">gaussmeter</span> <span class="o">=</span> <span class="n">LakeShore425</span><span class="p">(</span><span class="s1">&#39;/dev/lakeshore425&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Behind the scenes the <code class="code docutils literal notranslate"><span class="pre">/dev/lakeshore425</span></code> port is passed to the <a class="reference internal" href="../api/instruments/lakeshore/adapters.html#pymeasure.instruments.lakeshore.LakeShoreUSBAdapter" title="pymeasure.instruments.lakeshore.LakeShoreUSBAdapter"><code class="xref py py-class docutils literal notranslate"><span class="pre">LakeShoreUSBAdapter</span></code></a>.</p>
<p>Some equipment may require the vxi-11 protocol for communication. An example would be a Agilent E5810B ethernet to GPIB bridge.
To use this type equipment the python-vxi11 library has to be installed which is part of the extras package requirements.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pymeasure.adapters</span> <span class="kn">import</span> <span class="n">VXI11Adapter</span>
<span class="kn">from</span> <span class="nn">pymeasure.instruments</span> <span class="kn">import</span> <span class="n">Instrument</span>

<span class="n">adapter</span> <span class="o">=</span> <span class="n">VXI11Adapter</span><span class="p">(</span><span class="s2">&quot;TCPIP::192.168.0.100::inst0::INSTR&quot;</span><span class="p">)</span>
<span class="n">instr</span> <span class="o">=</span> <span class="n">Instrument</span><span class="p">(</span><span class="n">adapter</span><span class="p">,</span> <span class="s2">&quot;my_instrument&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The above examples illustrate different methods for communicating with instruments, using adapters to keep instrument code independent from the communication protocols. Next we present the methods for setting up measurements.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="index.html" class="btn btn-neutral float-left" title="Tutorials" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="procedure.html" class="btn btn-neutral float-right" title="Making a measurement" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2013-2021, PyMeasure Developers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>