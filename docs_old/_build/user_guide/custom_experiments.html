
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Custom Experiments &#8212; SPHERExLabTools 0.6 documentation</title>
    <link rel="stylesheet" href="../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="SPHEREx-Lab-Tools Data Archival Specification" href="slt_data_archival_spec.html" />
    <link rel="prev" title="Fundamentals" href="fundamentals.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="slt_data_archival_spec.html" title="SPHEREx-Lab-Tools Data Archival Specification"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="fundamentals.html" title="Fundamentals"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SPHERExLabTools 0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" accesskey="U">User Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Custom Experiments</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="custom-experiments">
<h1>Custom Experiments<a class="headerlink" href="#custom-experiments" title="Permalink to this headline">¶</a></h1>
<div class="section" id="experiment-control-package">
<h2>Experiment Control Package<a class="headerlink" href="#experiment-control-package" title="Permalink to this headline">¶</a></h2>
<div class="line-block">
<div class="line">New measurement control software is created through <a class="reference internal" href="#experiment-control-package"><span class="std std-ref">Experiment Control Packages</span></a>.
<a class="reference internal" href="#experiment-control-package"><span class="std std-ref">Experiment Control Packages</span></a> are simply python packages that define 5 key variables
which tell SPHERExLabTools which instrument drivers to instantiate, the graphical interfaces to initialize, what the output data formats should be, etc.
Each of these variables are lists of python dictionaries that follow a special syntax. These 5 variables are:</div>
</div>
<blockquote>
<div><ol class="arabic simple">
<li><p>INSTRUMENT_SUITE: List of <a class="reference internal" href="#hardware-configuration"><span class="std std-ref">Hardware Configuration Dictionaries</span></a></p></li>
<li><p>CONTROLLERS: List of <a class="reference internal" href="#id2"><span class="std std-ref">Controller Configuration Dictionaries</span></a></p></li>
<li><p>PROCEDURES: List of <a class="reference internal" href="#id1"><span class="std std-ref">Procedure Configuration Dictionaries</span></a></p></li>
<li><p>RECORDERS: List of <a class="reference internal" href="#recorder-configuration"><span class="std std-ref">Recorder Configuration Dictionaries</span></a></p></li>
<li><p>VIEWERS: List of <a class="reference internal" href="#viewer-configuration"><span class="std std-ref">Viewer Configuration Dictionaries</span></a></p></li>
</ol>
</div></blockquote>
<div class="section" id="example-experiment-control-package-structure">
<h3>Example Experiment Control Package Structure<a class="headerlink" href="#example-experiment-control-package-structure" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>Each of the above variables are defined in python files and are imported by wrapping all of the appropriate files into a python package. An example file structure
to define each of the variables could be:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">core_experiment_package</span><span class="o">/</span>
    <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>                <span class="c1"># initialization</span>
    <span class="n">hw</span><span class="o">.</span><span class="n">py</span>                      <span class="c1"># defines INSTRUMENT_SUITE</span>
    <span class="n">control</span><span class="o">.</span><span class="n">py</span>                 <span class="c1"># defines CONTROLLERS</span>
    <span class="n">measure</span><span class="o">.</span><span class="n">py</span>                 <span class="c1"># defines PROCEDURES, RECORDERS, and VIEWERS</span>
</pre></div>
</div>
</div></blockquote>
</div>
</div>
<div class="section" id="init-file">
<h2>__init__ File<a class="headerlink" href="#init-file" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>The 5 key variables listed above can be defined in any python file that the user desires. However, for SPHERExLabTools to be able to parse the configuration dictionaries
contained in each variable, it must know where each is defined. This is where the __init__.py file comes in. Every python package must contain an __init__.py file, the
contents of which are executed when the package is imported. In many cases, this file can be completely empty but an <strong>Experiment Control Package</strong> must use this file to import all of the key variables.
For the <a class="reference internal" href="#example-experiment-control-package-structure"><span class="std std-ref">Example Experiment Control Package Structure</span></a> shown above the contents of the __init__.py file would
contain the following lines:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">.hw</span> <span class="kn">import</span> <span class="n">INSTRUMENT_SUITE</span>
<span class="kn">from</span> <span class="nn">.control</span> <span class="kn">import</span> <span class="n">CONTROLLERS</span>
<span class="kn">from</span> <span class="nn">.measure</span> <span class="kn">import</span> <span class="n">PROCEDURES</span><span class="p">,</span> <span class="n">RECORDERS</span><span class="p">,</span> <span class="n">VIEWERS</span>
</pre></div>
</div>
<p>Now, when the <strong>Experiment Control Package</strong> is imported, all of the key variables can be accessed through the imported module object. I.e., when the following line is executed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">core_experiment_package</span> <span class="k">as</span> <span class="nn">cexp</span>
</pre></div>
</div>
<p>We can access INSTRUMENT_SUITE with <a class="reference external" href="https://docs.python.org/3/cexp.INSTRUMENT_SUITE">Python3/%scexp.INSTRUMENT_SUITE</a>, CONTROLLERS can be accessed with <a class="reference external" href="https://docs.python.org/3/cexp.CONTROLLERS">Python3/%scexp.CONTROLLERS</a>, and so on and so forth. Note that all of the key variables must be defined
in the experiment control package, though they can always be defined as an empty list.</p>
</div></blockquote>
</div>
<div class="section" id="hardware-configuration">
<h2>Hardware Configuration<a class="headerlink" href="#hardware-configuration" title="Permalink to this headline">¶</a></h2>
<p>Hardware configuration dictionaries are placed in the INSTRUMENT_SUITE variable to tell SLT which instrument drivers should be used. The syntax of a basic hardware configuration dictionary is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;instance_name&quot;</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># some string giving the instrument a name.</span>
    <span class="s2">&quot;resource_name&quot;</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># the PyVisa Resource Name of the instrument (see the link provided below).</span>
    <span class="s2">&quot;manufacturer&quot;</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># the name of the instrument manufacturer.</span>
    <span class="s2">&quot;instrument&quot;</span><span class="p">:</span> <span class="nb">str</span> <span class="c1"># the name of the instrument driver class.</span>
    <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="nb">dict</span> <span class="c1"># an OPTIONAL dictionary containing initial values for instrument parameters.</span>
    <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="nb">dict</span> <span class="c1"># an OPTIONAL dictionary containing key-word arguments passed to the instrument class __init__ function.</span>
<span class="p">}</span>
</pre></div>
</div>
<p><a class="reference internal" href="pyvisa_resource_names.html#pyvisa-resource-names"><span class="std std-ref">PyVisa Resource Names</span></a></p>
<p>SPHERExLabTools also provides the capability to combine multiple instrument drivers into a single python object through the use of <a class="reference internal" href="compound_instruments.html#compound-instrument-configuration"><span class="std std-ref">Compound Instrument Dictionaries</span></a></p>
</div>
<div class="section" id="controller-configuration">
<h2>Controller Configuration<a class="headerlink" href="#controller-configuration" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="procedure-configuration">
<h2>Procedure Configuration<a class="headerlink" href="#procedure-configuration" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="recorder-configuration">
<h2>Recorder Configuration<a class="headerlink" href="#recorder-configuration" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="viewer-configuration">
<h2>Viewer Configuration<a class="headerlink" href="#viewer-configuration" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="id1">
<h2>Procedure Configuration<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h2>
<p>To specify the procedures used to control the execution of a measurement, a list of <a class="reference internal" href="#procedure-configuration-dictionaries"><span class="std std-ref">Procedure Configuration Dictionaries</span></a>
should be built and assigned to a variable called <strong>PROCEDURES</strong>. As described above, when the following code is executed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">spherexlabtools</span> <span class="k">as</span> <span class="nn">slt</span>
<span class="kn">import</span> <span class="nn">custom_experiment_package</span> <span class="k">as</span> <span class="nn">cexp</span>
<span class="n">exp</span> <span class="o">=</span> <span class="n">slt</span><span class="o">.</span><span class="n">create_experiment</span><span class="p">(</span><span class="n">cexp</span><span class="p">)</span>
</pre></div>
</div>
<p>The <cite>create_experiment</cite> function will look for the <strong>PROCEDURES</strong> variable in the experiment package namespace. Then,
a <a class="reference internal" href="../api/procedures/procedures.html#base-procedure"><span class="std std-ref">Procedure object</span></a> is created for each configuration dictionary found
in this list.</p>
<div class="section" id="procedure-configuration-dictionaries">
<h3>Procedure Configuration Dictionaries<a class="headerlink" href="#procedure-configuration-dictionaries" title="Permalink to this headline">¶</a></h3>
<p>The form of a procedure configuration dictionary is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>proc_dict = {
    &quot;instance_name&quot;: &lt;string to name the instantiated procedure.&gt;,
    &quot;type&quot;: &lt;string name of the procedure class.&gt;,
    &quot;hw&quot;: &lt;string or list of strings of instance_name fields of the instruments used in the procedure&gt;,
    &quot;records&quot;: &lt;dictionary with names of data objects as keys, and a map to the instance_name fields of the viewers
                and recorders that this object will be sent to.&gt;,
    &quot;params&quot;: &lt;`Optional` dictionary with an initial set of procedure parameters to set.&gt;,
    &quot;kwargs&quot;: &lt;`Optional` dictionary with key-word arguments sent to the procedure initialization method.&gt;
}
</pre></div>
</div>
<p>The whole procedure configuration used in the <span class="xref std std-ref">Collimator Focus Core Experiment</span>
is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CameraView_Proc</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;CamViewProc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;CamViewProc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hw&quot;</span><span class="p">:</span> <span class="s2">&quot;Microscope&quot;</span><span class="p">,</span>
    <span class="s2">&quot;records&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;cam_latest_frame&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;viewer&quot;</span><span class="p">:</span> <span class="s2">&quot;CamView&quot;</span><span class="p">},</span>
    <span class="p">},</span>
    <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;frames_per_image&quot;</span><span class="p">:</span> <span class="mi">100</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">CollimatorFocus_Proc</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;CollimatorFocusProc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;CollimatorFocusProc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hw&quot;</span><span class="p">:</span> <span class="s2">&quot;Microscope&quot;</span><span class="p">,</span>
    <span class="s2">&quot;records&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;frame&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;viewer&quot;</span><span class="p">:</span> <span class="s2">&quot;CamView&quot;</span><span class="p">},</span>
        <span class="s2">&quot;frame_avg&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;viewer&quot;</span><span class="p">:</span> <span class="s2">&quot;CamViewAvg&quot;</span><span class="p">},</span>
        <span class="s2">&quot;image&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;recorder&quot;</span><span class="p">:</span> <span class="s2">&quot;CollimatorFocusRecorder&quot;</span><span class="p">},</span>
        <span class="s2">&quot;sequence&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;recorder&quot;</span><span class="p">:</span> <span class="s2">&quot;CollimatorFocusRecorder&quot;</span><span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="n">PROCEDURES</span> <span class="o">=</span> <span class="p">[</span><span class="n">CameraView_Proc</span><span class="p">,</span> <span class="n">CollimatorFocus_Proc</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id2">
<h2>Controller Configuration<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h2>
<p>Controllers come in two flavors:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference internal" href="#instrument-controller-configuration-dictionaries"><span class="std std-ref">Instrument Controllers</span></a> are
used for manual control over individual instruments.</p></li>
<li><p><a class="reference internal" href="#procedure-controller-configuration-dictionaries"><span class="std std-ref">Procedure Controllers</span></a> are
used to set procedure parameters and execute individual procedures or sequences of several procedures.</p></li>
</ul>
</div></blockquote>
<div class="section" id="instrument-controller-configuration-dictionaries">
<h3>Instrument Controller Configuration Dictionaries<a class="headerlink" href="#instrument-controller-configuration-dictionaries" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="procedure-controller-configuration-dictionaries">
<h3>Procedure Controller Configuration Dictionaries<a class="headerlink" href="#procedure-controller-configuration-dictionaries" title="Permalink to this headline">¶</a></h3>
<p>The form of procedure controller config dictionaries is quite simple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">proc_cntrl_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;instance_name&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">string</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">controller</span> <span class="n">instance</span><span class="o">.&gt;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">string</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">controller</span> <span class="k">class</span> <span class="nc">to</span> <span class="n">instantiate</span><span class="o">.&gt;</span>
    <span class="s2">&quot;procedure&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">instance_name</span> <span class="n">field</span> <span class="n">of</span> <span class="n">the</span> <span class="n">procedure</span> <span class="n">to</span> <span class="n">control</span><span class="o">.&gt;</span><span class="p">,</span>
    <span class="s2">&quot;params&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">optional</span> <span class="n">dictionary</span> <span class="k">with</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">initial</span> <span class="n">parameters</span><span class="o">.</span> <span class="o">**</span><span class="n">NOTE</span><span class="o">**</span><span class="p">,</span> <span class="k">while</span> <span class="n">this</span> <span class="n">field</span> <span class="n">can</span> <span class="n">be</span> <span class="nb">set</span> <span class="n">just</span>
               <span class="k">as</span> <span class="k">with</span> <span class="n">the</span> <span class="n">other</span> <span class="n">components</span><span class="p">,</span> <span class="n">it</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">recommended</span> <span class="n">to</span> <span class="n">use</span> <span class="n">this</span> <span class="n">field</span> <span class="k">for</span> <span class="n">procedure</span> <span class="n">controllers</span><span class="o">.&gt;</span>
    <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="o">&lt;</span><span class="n">optional</span> <span class="n">dictionary</span> <span class="n">of</span> <span class="n">key</span><span class="o">-</span><span class="n">word</span> <span class="n">arguments</span> <span class="n">to</span> <span class="n">send</span> <span class="n">to</span> <span class="n">the</span> <span class="n">initialization</span> <span class="n">method</span><span class="o">.&gt;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Valid key-word arguments that can be used in the optional <cite>kwargs</cite> field above are as follows:</p>
<blockquote>
<div><ul class="simple">
<li><p>sequencer: Boolean to indicate if a procedure sequencer interface should be generated. The default value is True.</p></li>
<li><p>records: Boolean to indicate if a record interaction interface should be generated. The default value is True.</p></li>
<li><dl class="simple">
<dt>place_params: Boolean to indicate if the default procedure controller layout should be set on initialization.</dt><dd><p>The default value is True.</p>
</dd>
</dl>
</li>
<li><p>connect: Boolean to indicate if the start and stop procedure buttons should be connected to the default methods.</p></li>
</ul>
</div></blockquote>
<p>The controller configuration used in the <span class="xref std std-ref">Collimator Focus Core Experiment</span>
is shown below:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MScope_Controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;MicroscopeCntrl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;InstrumentController&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hw&quot;</span><span class="p">:</span> <span class="s2">&quot;Microscope&quot;</span><span class="p">,</span>
    <span class="s2">&quot;control_parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;focuser_step_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;focuser_absolute_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;cam_gain_auto&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;list&quot;</span><span class="p">,</span> <span class="s2">&quot;values&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Off&quot;</span><span class="p">,</span> <span class="s2">&quot;Once&quot;</span><span class="p">,</span> <span class="s2">&quot;Continuous&quot;</span><span class="p">]},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;cam_gain&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;status_parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;focuser_step_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;gauge_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;focuser_absolute_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;cam_gain&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">&quot;status_refresh&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;actions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;focuser_stop&quot;</span><span class="p">,</span> <span class="s2">&quot;focuser_reset_position&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">Gimbal0_Controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Gimbal0Cntrl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;InstrumentController&quot;</span><span class="p">,</span>
    <span class="s2">&quot;hw&quot;</span><span class="p">:</span> <span class="s2">&quot;Gimbal0&quot;</span><span class="p">,</span>
    <span class="s2">&quot;control_parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;az_absolute_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;za_absolute_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
    <span class="p">],</span>
    <span class="s2">&quot;status_parameters&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;az_absolute_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;name&quot;</span><span class="p">:</span> <span class="s2">&quot;za_absolute_position&quot;</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;float&quot;</span><span class="p">},</span>
    <span class="p">],</span>
    <span class="s2">&quot;status_refresh&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
    <span class="s2">&quot;actions&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="s2">&quot;az_stop&quot;</span><span class="p">,</span> <span class="s2">&quot;za_stop&quot;</span><span class="p">,</span> <span class="s2">&quot;az_home&quot;</span><span class="p">,</span> <span class="s2">&quot;za_home&quot;</span><span class="p">,</span> <span class="s2">&quot;az_reset_position&quot;</span><span class="p">,</span> <span class="s2">&quot;za_reset_position&quot;</span>
    <span class="p">]</span>
<span class="p">}</span>

<span class="n">LogProc_Controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;CamViewProcCntrl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;LogProcController&quot;</span><span class="p">,</span>
    <span class="s2">&quot;procedure&quot;</span><span class="p">:</span> <span class="s2">&quot;CamViewProc&quot;</span><span class="p">,</span>
<span class="p">}</span>

<span class="n">CollimatorFocus_Controller</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;instance_name&quot;</span><span class="p">:</span> <span class="s2">&quot;CollimatorFocusProcCntrl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;ProcedureController&quot;</span><span class="p">,</span>
    <span class="s2">&quot;procedure&quot;</span><span class="p">:</span> <span class="s2">&quot;CollimatorFocusProc&quot;</span>
<span class="p">}</span>

<span class="n">CONTROLLERS</span> <span class="o">=</span> <span class="p">[</span><span class="n">MScope_Controller</span><span class="p">,</span> <span class="n">Gimbal0_Controller</span><span class="p">,</span> <span class="n">LogProc_Controller</span><span class="p">,</span> <span class="n">CollimatorFocus_Controller</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Custom Experiments</a><ul>
<li><a class="reference internal" href="#experiment-control-package">Experiment Control Package</a><ul>
<li><a class="reference internal" href="#example-experiment-control-package-structure">Example Experiment Control Package Structure</a></li>
</ul>
</li>
<li><a class="reference internal" href="#init-file">__init__ File</a></li>
<li><a class="reference internal" href="#hardware-configuration">Hardware Configuration</a></li>
<li><a class="reference internal" href="#controller-configuration">Controller Configuration</a></li>
<li><a class="reference internal" href="#procedure-configuration">Procedure Configuration</a></li>
<li><a class="reference internal" href="#recorder-configuration">Recorder Configuration</a></li>
<li><a class="reference internal" href="#viewer-configuration">Viewer Configuration</a></li>
<li><a class="reference internal" href="#id1">Procedure Configuration</a><ul>
<li><a class="reference internal" href="#procedure-configuration-dictionaries">Procedure Configuration Dictionaries</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id2">Controller Configuration</a><ul>
<li><a class="reference internal" href="#instrument-controller-configuration-dictionaries">Instrument Controller Configuration Dictionaries</a></li>
<li><a class="reference internal" href="#procedure-controller-configuration-dictionaries">Procedure Controller Configuration Dictionaries</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="fundamentals.html"
                        title="previous chapter">Fundamentals</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="slt_data_archival_spec.html"
                        title="next chapter">SPHEREx-Lab-Tools Data Archival Specification</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/user_guide/custom_experiments.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="slt_data_archival_spec.html" title="SPHEREx-Lab-Tools Data Archival Specification"
             >next</a> |</li>
        <li class="right" >
          <a href="fundamentals.html" title="Fundamentals"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">SPHERExLabTools 0.6 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="index.html" >User Guide</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Custom Experiments</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2022, Sam Condon, Marco Viero.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>
  </body>
</html>